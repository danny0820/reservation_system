   # ç¾é«®é ç´„ç³»çµ± - ç”¨æˆ¶ç®¡ç† API

å¿«é€Ÿä¸Šæ‰‹æŒ‡å—å’Œ API ä½¿ç”¨èªªæ˜

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

1. **å•Ÿå‹•æœå‹™**
   ```bash
   uvicorn main:app --reload --port 8080
   ```

2. **è¨ªå• API æ–‡æª”**
   - Swagger UI: http://127.0.0.1:8080/docs
   - ReDoc: http://127.0.0.1:8080/redoc

## ğŸ“‹ API å¿«é€Ÿåƒè€ƒ

### èªè­‰
- `POST /users/login` - ç”¨æˆ¶ç™»å…¥
- `POST /users/signup` - ç”¨æˆ¶è¨»å†Š

### å€‹äººè³‡æ–™
- `GET /users/me` - ç²å–å€‹äººè³‡è¨Š
- `PATCH /users/me` - æ›´æ–°å€‹äººè³‡è¨Š
- `PATCH /users/me/password` - æ›´æ–°å¯†ç¢¼
- `DELETE /users/me` - åˆªé™¤å¸³è™Ÿ

### ç”¨æˆ¶ç®¡ç†åŠŸèƒ½

#### ğŸ” ç®¡ç†å“¡å°ˆç”¨
- `GET /users/` - ç²å–æ‰€æœ‰ç”¨æˆ¶
- `POST /users/` - å‰µå»ºæ–°ç”¨æˆ¶
- `GET /users/{user_id}` - ç²å–æŒ‡å®šç”¨æˆ¶
- `PATCH /users/{user_id}` - æ›´æ–°æŒ‡å®šç”¨æˆ¶
- `DELETE /users/{user_id}` - åˆªé™¤æŒ‡å®šç”¨æˆ¶
- `POST /users/{user_id}/role` - åˆ†é…ç”¨æˆ¶è§’è‰²
- `POST /users/{user_id}/status` - æ›´æ”¹ç”¨æˆ¶ç‹€æ…‹
- `POST /users/{user_id}/activate` - å•Ÿç”¨ç”¨æˆ¶
- `POST /users/{user_id}/deactivate` - åœç”¨ç”¨æˆ¶

#### ğŸ‘¤ æ‰€æœ‰å·²èªè­‰ç”¨æˆ¶å¯ç”¨
- `GET /users/role/{role}` - ç²å–æŒ‡å®šè§’è‰²ç”¨æˆ¶
- `GET /users/status/{status}` - ç²å–æŒ‡å®šç‹€æ…‹ç”¨æˆ¶
- `GET /users/{user_id}/linked-accounts` - æŸ¥çœ‹é€£çµçš„ç¬¬ä¸‰æ–¹å¸³è™Ÿ
- `POST /users/{user_id}/send-verification` - ç™¼é€é©—è­‰ä¿¡
- `POST /users/{user_id}/reset-password` - é‡ç½®å¯†ç¢¼

## ğŸ”‘ é»˜èªç®¡ç†å“¡å¸³è™Ÿ

- **ç”¨æˆ¶å**: admin
- **å¯†ç¢¼**: admin123
- **è§’è‰²**: admin

## ğŸ“Š é–‹ç™¼é€²åº¦

- [x] ç”¨æˆ¶èªè­‰ç³»çµ±
- [x] ç”¨æˆ¶ç®¡ç†åŠŸèƒ½
- [x] ç®¡ç†å“¡åŠŸèƒ½
- [x] è§’è‰²æŸ¥è©¢ API
- [x] é€²éšç®¡ç† API
- [x] ç”¨æˆ¶é—œä¿‚ç®¡ç†
- [x] åˆ†å±¤æ¬Šé™æ§åˆ¶
- [x] CRUD æ¶æ§‹
- [x] å®‰å…¨æ€§é…ç½®
- [x] API æ–‡æª”
- [x] å–®å…ƒæ¸¬è©¦ (88% è¦†è“‹ç‡)
- [ ] é ç´„ç®¡ç†æ¨¡çµ„
- [ ] æœå‹™ç®¡ç†æ¨¡çµ„
- [ ] æ’ç­ç®¡ç†æ¨¡çµ„
- [ ] è¨‚å–®ç®¡ç†æ¨¡çµ„

## ğŸ› ï¸ æŠ€è¡“æ£§

- **æ¡†æ¶**: FastAPI
- **è³‡æ–™åº«**: MySQL (Zeabur)
- **ORM**: SQLAlchemy
- **èªè­‰**: JWT
- **é©—è­‰**: Pydantic
- **æ¸¬è©¦**: Pytest

## ğŸ“ é …ç›®çµæ§‹

```
app/
â”œâ”€â”€ core/config.py         # é…ç½®ç®¡ç†
â”œâ”€â”€ crud/user_crud.py      # ç”¨æˆ¶ CRUD æ“ä½œ
â”œâ”€â”€ models/user_models.py  # è³‡æ–™åº«æ¨¡å‹
â”œâ”€â”€ routers/users.py       # ç”¨æˆ¶è·¯ç”±
â”œâ”€â”€ schemas/user_schemas.py # Pydantic æ¨¡å‹
â”œâ”€â”€ auth.py                # èªè­‰ç³»çµ±
â””â”€â”€ database.py            # è³‡æ–™åº«é€£æ¥
```

---

**ç‰ˆæœ¬**: 1.2.0  
**ç‹€æ…‹**: ç”Ÿç”¢å°±ç·’  
**æœ€å¾Œæ›´æ–°**: 2025-07-16

### ğŸ”„ æœ€æ–°æ›´æ–° (v1.2.0)
- âœ… ç§»é™¤éå¿…è¦çš„ API ç«¯é» (stylists, customers, admins, search, filter, stats)
- âœ… æ¸…ç†ç›¸é—œçš„ CRUD æ–¹æ³•å’Œ Schema æ¨¡å‹  
- âœ… ç°¡åŒ–ç³»çµ±æ¶æ§‹ï¼Œä¿ç•™æ ¸å¿ƒåŠŸèƒ½
- âœ… å„ªåŒ–æ¬Šé™æ§åˆ¶ç³»çµ± (ç®¡ç†å“¡ vs ä¸€èˆ¬ç”¨æˆ¶)
- âœ… æ›´æ–° API æ–‡æª”èˆ‡åŠŸèƒ½å°èˆª

### ğŸ“‹ æ¬Šé™åˆ†å±¤èªªæ˜
ç³»çµ±æ¡ç”¨ä¸‰å±¤æ¬Šé™æ¶æ§‹ï¼š
1. **ç®¡ç†å“¡ (admin)**: å®Œæ•´ç³»çµ±ç®¡ç†æ¬Šé™
2. **å·²èªè­‰ç”¨æˆ¶ (customer/stylist)**: æŸ¥è©¢å’ŒåŸºæœ¬æ“ä½œæ¬Šé™
3. **æœªèªè­‰ç”¨æˆ¶**: åƒ…å¯è¨»å†Šå’Œç™»å…¥